
[20251004-121645] INIT_PLAN
{
  "case_name": "利用BatteryCapacityDetectControl工具记录电脑通过播放本地视频将电池电量从100%放电到10%所用的总时间并上传到测试平台",
  "case_desc": "利用BatteryCapacityDetectControl工具记录电脑通过播放本地视频将电池电量从100%放电到10%所用的总时间并上传到测试平台",
  "type": 1,
  "steps": [
    {
      "order": 1,
      "action": "Set Battery test setting",
      "tool": "AutoSet",
      "params": "-battery -TPG -Volume 10 -Brightness 88 -Restart -Testmode Enable",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3，设置电池测试环境"
    },
    {
      "order": 2,
      "action": "采集软硬件信息",
      "tool": "CollectHardwareSoftwareInfo",
      "params": "",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3，信息收集用于基线记录"
    },
    {
      "order": 3,
      "action": "移除 Microsoft 软件",
      "tool": "RemoveMicrosoftProgram",
      "params": "-r",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3，清理非必要后台进程"
    },
    {
      "order": 4,
      "action": "卸载 OneDrive 应用",
      "tool": "UninstallTeams",
      "params": "/name \"OneDrive\"",
      "note": "映射：Uninstall OneDrive app -> UninstallTeams，理由：工具统一处理UWP应用卸载"
    },
    {
      "order": 5,
      "action": "卸载 Microsoft Teams UWP 应用",
      "tool": "UninstallTeams",
      "params": "/name \"Teams\"",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 6,
      "action": "设置系统屏幕亮度为82%",
      "tool": "SetBrightness",
      "params": "/Brightness 82",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 7,
      "action": "设置笔记本默认声卡音量为0",
      "tool": "SetComputerVolume",
      "params": "/Volum 0",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 8,
      "action": "设置系统壁纸为1-Think_White.jpg",
      "tool": "ChangeOSBackgroundBattery",
      "params": "/F 1-Think_White.jpg",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 9,
      "action": "通过PDU硬关机",
      "tool": "DeviceNetRequest",
      "params": "{\"testUnitUuid\":\"4899fbed58f\",\"times\":0,\"parentTestModelOperationUuid\":\"e0eeb774579f3788\",\"action\":\"poweroff\",\"testModelNodeUuid\":\"7460c72717877d7\",\"testTaskCode\":\"TT200037\",\"controlCmd\":\"Direct\",\"cancel\":0,\"messageUuid\":\"5656565\",\"FW\":\"1\",\"ctrlCmdType\":\"0\",\"timing\":\"1634802625\"}",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 10,
      "action": "设置系统电源模式为BestPowerEfficienct",
      "tool": "SetPowerMode",
      "params": "/P BestPowerEfficienct",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 11,
      "action": "重启系统",
      "tool": "SxPowerTest",
      "params": "--TestFunction Wb --TestTimes 1 --CountDownTime 10 --SleepTime 60 --CheckDeviceMode Nothing /X_SkipShutdown",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 12,
      "action": "通过PDU硬开机",
      "tool": "DeviceNetRequest",
      "params": "{\"testUnitUuid\":\"4899fbed58f\",\"times\":0,\"parentTestModelOperationUuid\":\"e0eeb774579f3788\",\"action\":\"poweron\",\"testModelNodeUuid\":\"7460c72717877d7\",\"testTaskCode\":\"TT200037\",\"controlCmd\":\"Direct\",\"cancel\":0,\"messageUuid\":\"5656565\",\"FW\":\"1\",\"ctrlCmdType\":\"0\",\"timing\":\"1634802625\"}",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 13,
      "action": "设置系统DPI缩放为100%",
      "tool": "ChangeSystemDPI",
      "params": "/V New",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 14,
      "action": "检查电池电量是否达到100%",
      "tool": "CheckBatteryLevel",
      "params": "/Min 100",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 15,
      "action": "使用MediaPlayer循环播放本地视频",
      "tool": "PlayLocalVideo",
      "params": "-S Yes",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 16,
      "action": "抓取CPU使用率并绘制曲线",
      "tool": "CPUUsage",
      "params": "/TestDuration 5",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 17,
      "action": "通过PDU硬关机",
      "tool": "DeviceNetRequest",
      "params": "{\"testUnitUuid\":\"4899fbed58f\",\"times\":0,\"parentTestModelOperationUuid\":\"e0eeb774579f3788\",\"action\":\"poweroff\",\"testModelNodeUuid\":\"7460c72717877d7\",\"testTaskCode\":\"TT200037\",\"controlCmd\":\"Direct\",\"cancel\":0,\"messageUuid\":\"5656565\",\"FW\":\"1\",\"ctrlCmdType\":\"0\",\"timing\":\"1634802625\"}",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 18,
      "action": "运行ACin_auto_on.exe检测适配器插入行为",
      "tool": "ACinAutoOnWrap",
      "params": "-r",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 19,
      "action": "禁用板载有线网卡",
      "tool": "ChangeLanStatus",
      "params": "/S Disable",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 20,
      "action": "启动电池放电监测至10%",
      "tool": "BatteryCapacityDetectControl",
      "params": "/A DisCharge /P 10 /T 60",
      "note": "近似对齐项：Battery life 放电电池监测，修改目标值为10%"
    },
    {
      "order": 21,
      "action": "设置系统壁纸为1-Think_White.jpg",
      "tool": "ChangeOSBackgroundBattery",
      "params": "/F 1-Think_White.jpg",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 22,
      "action": "启用板载有线网卡",
      "tool": "ChangeLanStatus",
      "params": "/S Enable",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 23,
      "action": "通过PDU硬开机",
      "tool": "DeviceNetRequest",
      "params": "{\"testUnitUuid\":\"4899fbed58f\",\"times\":0,\"parentTestModelOperationUuid\":\"e0eeb774579f3788\",\"action\":\"poweron\",\"testModelNodeUuid\":\"7460c72717877d7\",\"testTaskCode\":\"TT200037\",\"controlCmd\":\"Direct\",\"cancel\":0,\"messageUuid\":\"5656565\",\"FW\":\"1\",\"ctrlCmdType\":\"0\",\"timing\":\"1634802625\"}",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 24,
      "action": "上传电池寿命日志文件batterylife.log到平台",
      "tool": "BatteryLifeCollectionLog",
      "params": "",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 25,
      "action": "设置系统壁纸为1-Think_White.jpg",
      "tool": "ChangeOSBackgroundBattery",
      "params": "/F 1-Think_White.jpg",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 26,
      "action": "启动电池充放电循环监测至100%",
      "tool": "BatteryCapacityDetectControl",
      "params": "/A Charge /P 100 /T 60",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    },
    {
      "order": 27,
      "action": "上传电池寿命日志文件batterylife.log到平台",
      "tool": "BatteryLifeCollectionLog",
      "params": "",
      "note": "对应上下文条目：Batterylife_Jeita_VPBTest_100_to_3"
    }
  ]
}
